<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    
	  
	<meta id="i18n_pagename" content="message">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <!-- jQuery first, then Popper.js, then Bootstrap JS. -->
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.bootcss.com/popper.js/1.9.3/umd/popper.min.js" integrity="sha384-knhBOwpf8/28D6ygAjJeb0STNDZqfPbKaWQ8wIz/xgSc0xXwKsKhNype8fmfMka2" crossorigin="anonymous"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

    <!-- Scatter JS. -->
    <script src="js/scatter.min.js"></script>
    <script src="js/eos.min.js"></script>
	  
	  
	  <link rel="stylesheet" type="text/css" href="https://static.medishares.net/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://static.medishares.net/css/common.css?v=2018082901">
    <script src="https://static.medishares.net/js/jquery-3.2.1.min.js"></script>
    <script src="https://static.medishares.net/js/vue.min.js"></script>
    <script src="https://static.medishares.net/js/common.js?v=2018082901"></script>
	  <script src="js/tp.js"></script>
        <script src="js/alertify.js"></script>
        <script src="js/bootstrap.bundle.js"></script>
        <script src="js/fontawesome-all.min.js"></script>
        <script src="js/eos.min.js"></script>
        <script src="js/mDialogMin.js"></script>
        <script src="js/moment.min.js"></script>
        <script src="https://cdn.bootcss.com/bignumber.js/7.2.1/bignumber.min.js"></script>
	  

	
    <script>
      // EOS RPC 网络设置
	var isTP = tp.isConnected();
	tpAccount = null

				
      var network = {
        blockchain:'eos',
        protocol:'https',
        host:'mainnet.eoscannon.io',
        port:443,
        chainId:'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906'
      };
      var currentAccount = null;
      // 连接
      function connect(){
        scatter.connect('MY_GAME_NAME').then(connected => {
          if(connected){
            alert('connect success');
          }else{
            alert('connect fail');
          }
        });
      }
      // 登录，获取 EOS 账户
      function login(){
		  connect();
        // scatter.forgetIdentity();
        scatter.getIdentity({accounts:[network]}).then(result => {
          currentAccount =  result.accounts[0];
          alert('account:'+JSON.stringify(currentAccount));
        }).catch(error => {
          alert('error:'+JSON.stringify(error));
        });
      }
		login();
      // 转账
      function transfer(){
        if (currentAccount == null) {
            alert('请先登录 EOS 账户');
        }
        // alert(network.protocol+'://'+network.host);
        var eos = scatter.eos(network, Eos);
        eos.transfer(currentAccount.name, 'giveeostoken', '0.0001 EOS', 'scatter 转账测试').then(result => {
          alert('result:'+JSON.stringify(result));
        }).catch(error => {
          alert('error:'+JSON.stringify(error));
        });
      }
		
		function gettea(){
        if (currentAccount == null) {
            alert('请先登录 EOS 账户');
        }
        // alert(network.protocol+'://'+network.host);
        var eos = scatter.eos(network, Eos);
		var options = {
                            authorization: currentAccount.name + '@' + currentAccount.authority,
                            broadcast: true,
                            sign: true
                        };
        eos.contract('linzongsheng', options).then(contract => {
						contract.signup(currentAccount.name, "0.0000 TEA", currentAccount.name, options).then(function (tx) {
							Dialog.init('Success!');
							//getaccountinfo(account.name);
						}).catch(function (e) {
							console.log(e);
							e = JSON.parse(e);
							if (e.error.details[0].message != "Invalid packed transaction") {
								Dialog.init(e.error.details[0].message);
							}
						});
					});
      }
		
		
		
		
		function getloveyou(){
        if (currentAccount == null) {
            alert('请先登录 EOS 账户');
        }
        // alert(network.protocol+'://'+network.host);
        var eos = scatter.eos(network, Eos);
		var options = {
                            authorization: currentAccount.name + '@' + currentAccount.authority,
                            broadcast: true,
                            sign: true
                        };
        eos.contract('okkkkkkkkkkk', options).then(contract => {
						contract.signup(currentAccount.name, "0 LOVEYOU", currentAccount.name, options).then(function (tx) {
							Dialog.init('Success!');
							//getaccountinfo(account.name);
						}).catch(function (e) {
							console.log(e);
							e = JSON.parse(e);
							if (e.error.details[0].message != "Invalid packed transaction") {
								Dialog.init(e.error.details[0].message);
							}
						});
					});
      }


      function getenb(){

      	if 
        if (currentAccount == null) {
            alert('请先登录 EOS 账户');
        }
        // alert(network.protocol+'://'+network.host);
        var eos = scatter.eos(network, Eos);
		var options = {
                            authorization: currentAccount.name + '@' + currentAccount.authority,
                            broadcast: true,
                            sign: true
                        };
        eos.contract('eosenbpocket', options).then(contract => {
						contract.signup(currentAccount.name, "0.0000 ENB", currentAccount.name, options).then(function (tx) {
							Dialog.init('Success!');
							//getaccountinfo(account.name);
						}).catch(function (e) {
							console.log(e);
							e = JSON.parse(e);
							if (e.error.details[0].message != "Invalid packed transaction") {
								Dialog.init(e.error.details[0].message);
							}
						});
					});
      }
		
		
		
		function eosflare(){
        	if (currentAccount == null) {
            alert('请先登录 EOS 账户');
        	}
			window.location.href=('https://eosflare.io/account/'+currentAccount.name);
      }

    </script>
  </head>
  <body>
	  <div class="mds-group">
    <link href="https://static.medishares.net/css/market/qixi2018.css" rel="stylesheet">
<div class="qixi">

      <div class="col-md-12"><button type="button" class="btn btn-finish btn-fill btn-primary btn-wd" onclick="login()">登录</button></div>
      <br><br><br>

	<div align="center"> <font color="pink"  size="5"> 莫与糖果盒子       </font>   </div>
	
	<br /><br />
	<div align="center">    </div>
	<div class="card">
		  	<div class="row">
		                          
			                              
			                                <div class="col-sm-5" align="center">
												<div class="form-group">
			                                        <label><font color="pink" size="3"> 领取200TEA代币*          </font>  <br />   </label>
													
			                                        <button type="button" id="gettea" class='btn btn-finish btn-fill btn-primary btn-wd' onclick="gettea()">一键领取</button>
													
			                                    
												
													</div>
										
			                                </div>
			                                <br /><br />
			                                <div class="col-sm-5" align="center">
												<div class="form-group">
			                                        <label><font color="pink" size="3"> 领取100ENB代币*          </font>  <br />   </label>
													
			                                        <button type="button" class='btn btn-finish btn-fill btn-primary btn-wd' onclick="transfer()" >一键领取</button>
													
			                                    
												
													</div>
										
			                                </div>
				
												<br /><br />
											<div class="col-sm-5" align="center">
												<div class="form-group">
			                                        <label><font color="pink" size="3"> 领取9999LOVEYOU*          </font>  <br />   </label>
													
			                                        <button type="button" id="getloveyou" class='btn btn-finish btn-fill btn-primary btn-wd' >一键领取</button>
													
			                                    
												
													</div>
										
			                                </div>
		                            	</div>
		
	</div>
	<div class="my-protocol right-align">
		<a href="javascript:;" id="all" onclick="eosflare()">查询领取状态</a>
	</div>
	<div style="clear: both;"></div>
	<ul class="qixi-about">
                    <li>
                        <h3>关于莫与糖果盒子</h3>
                        <div>精选的糖果等你来领！只需要 点击一下 海量EOS糖果随你领！</div>
						<div>莫与糖果盒子所有糖果均由第三方项目提供</div>
                    </li>
					<li>
                        <h3>关于TEA代币</h3>
                        <ul class="application">
                            <li>1.TEA是基于区块链3.0 EOS生态发行茶叶通证，持仓50万TEA以上可以参加每日快照，每日北京时间23点分红！</li>
                       		<li>2.官方网站：http://www.51jianzhanjun.cn</li>
							<li>3.公众号是 eos-tea</li>
                        </ul>
                    </li>
					<li>
                        <h3>关于ENB代币</h3>
                        <ul class="application">
                            <li>ENB Platform是一个基于EOS Toker的综合服务平台，包括Toker质押、交易及综合理财等业务。</li>
                        </ul>
                    </li>
					<li>
                        <h3>关于LOVEYOU代币</h3>
                        <ul class="application">
                            <li>LOVEYOU是基于区块链 3.0 EOS主网发行的生态币， 致力于满足人们对爱情美好的向往，满足人们精神生活中各种场景表达爱的需要，致力于公益活动传递爱。在恋爱、生日、婚庆、纪念日、过年过节等喜庆的日子，使用LOVEYOU表达爱、享受各种高品质服务。并通过持有LOVEYOU享有其升值的权益。</li>
                        </ul>
                    </li>
                    <li>
                        <h3>代币领取注意事项</h3>
                        <ul class="application">
                            <li>1.后面带有“*”标志的项目，领取空投这个过程会占用账户RAM用以领取代币</li>
							<li>2.后面带有“*”标志的项目，领取空投会占用大概0.24KiB RAM资源</li>
							<li>3.后面带有“*”标志的项目，领取空投是即时到账</li>
							<li>4.后面带有“*”标志的项目，通过声明（signup）操作后，即可获得代币</li>
							<li>5.“莫与糖果盒子”由莫与独立开发，一切数据由本人在北京时间2018.10.12测试得出，不保证在后续没有变动。关注“深入浅出EOS”公众号，即可获取更多有趣的DAPP哦。</li>
							<li>6.由于用户填写错误造成的损失本DApp概不负责</li>
							<li>7.后面带有“*”标志的项目，空投限没有该代币的EOS账户领取</li>
                        </ul>
                    </li>
                    
                   
                    <li>
                        <h3>关于作者</h3>
                        <div>关于“莫与一键发币”或者“莫与糖果盒子”。任何问题可以通过公众号“深入浅出EOS”联系原作者莫与。</div>
                    </li>
                </ul>
</div>
</div>
  
  </body>
</html>